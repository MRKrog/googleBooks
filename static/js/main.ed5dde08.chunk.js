(this.webpackJsonpGoogleBooks=this.webpackJsonpGoogleBooks||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/logo.cd2fd5e7.svg"},28:function(e,t,a){e.exports=a(41)},38:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(11),s=a.n(r),c=a(9),l=a(17),i=Object(c.b)({savedBooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BOOK_SAVE":return e.push(t.book),e;case"BOOK_REMOVE":var a=e.filter((function(e){return e.id!==t.bookID}));return a;default:return e}},searchedBooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BOOK_SEARCH":var a=t.books;return Object(l.a)(a);case"BOOK_UPDATE":var n=e.find((function(e){return t.bookID===e.id}));return n&&(n.savedStatus=!n.savedStatus),Object(l.a)(e);default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.loading;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.error;default:return e}}}),u=a(5),h=(a(38),a(14)),d=a.n(h),m=a(23),v=a(2),p=a(3),f=a(6),b=a(4),k=a(7),E=a(24),O=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state.search;t.length>0&&(a.props.handleSearch(t),a.setState({search:""}))},a.handleInput=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(E.a)({},n,o))},a.state={search:""},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Search"},o.a.createElement("section",{className:"searchTitle"},o.a.createElement("h2",null,"Google Books")),o.a.createElement("form",{className:"searchForm"},o.a.createElement("input",{type:"search",placeholder:"Enter Your Search",name:"search",value:this.state.search,onChange:this.handleInput}),o.a.createElement("button",{type:"submit",className:"btnClick",onClick:this.handleSubmit},"Search")))}}]),t}(n.Component),g=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).handleSave=function(e){e.preventDefault();var t=a.props,n=t.setSaveBook,o=t.setRemoveBook,r=t.updateBookDisplay,s=t.id,c=t.author,l=t.image,i=t.title,u=t.publisher;t.savedStatus?o(s):n({id:s,author:c,image:l,title:i,publisher:u,savedStatus:!0}),r(s)},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.author,n=e.image,r=e.publisher,s=e.savedStatus;return o.a.createElement("div",{className:"Book"},o.a.createElement("div",{className:"BookContent"},o.a.createElement("section",{className:"BookImage"},o.a.createElement("img",{src:n,alt:"background-books"})),o.a.createElement("section",{className:"BookCopy"},o.a.createElement("button",{onClick:this.handleSave},o.a.createElement("i",{className:s?"fas fa-star":"far fa-star"})),o.a.createElement("h5",null,o.a.createElement("span",null,"Title:")," ",t),o.a.createElement("h5",null,o.a.createElement("span",null,"Author:")," ",null===a?"N/A":a),o.a.createElement("h5",null,o.a.createElement("span",null,"Publisher:")," ",null===r?"N/A":r))))}}]),t}(n.Component),B=Object(u.b)(null,(function(e){return{setSaveBook:function(t){return e({type:"BOOK_SAVE",book:t})},setRemoveBook:function(t){return e({type:"BOOK_REMOVE",bookID:t})},updateBookDisplay:function(t){return e({type:"BOOK_UPDATE",bookID:t})}}}))(g),S=function(e){function t(){return Object(v.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.searchedBooks;return o.a.createElement("div",{className:"BookDisplay"},e.map((function(e){return o.a.createElement(B,{key:e.id,id:e.id,title:e.title,author:e.author,image:e.image,publisher:e.publisher,savedStatus:e.savedStatus})})))}}]),t}(n.Component),j=Object(u.b)((function(e){return{searchedBooks:e.searchedBooks}}),null)(S),y=function(e){function t(){return Object(v.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.savedBooks,a=e.hideModal;return o.a.createElement("div",{className:"Modal"},o.a.createElement("h2",null,"Your Saved Books"),o.a.createElement("button",{className:"hideModalBtn",onClick:a},"X"),o.a.createElement("div",{className:"BookDisplay"},t.map((function(e){return o.a.createElement(B,{key:e.id,id:e.id,title:e.title,author:e.author,image:e.image,publisher:e.publisher,savedStatus:e.savedStatus})}))))}}]),t}(n.Component),w=Object(u.b)((function(e){return{savedBooks:e.savedBooks}}),null)(y),N=a(25),_=a.n(N),I=function(){return o.a.createElement("div",{className:"Loading"},o.a.createElement("img",{src:_.a,className:"Loading-logo",alt:"loading"}))},D=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Error"))},C=function(e,t){console.log("filteredBooks",e);var a=e.map((function(e){return console.log("book",e),{id:e.id,title:e.volumeInfo.title,author:e.volumeInfo.authors?e.volumeInfo.authors[0]:null,image:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"",publisher:e.volumeInfo.publisher?e.volumeInfo.publisher:null,savedStatus:R(e.id,t)}}));return console.log("filteredBooks",a),a},R=function(e,t){return!!t.find((function(t){return t.id===e}))},A=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this))).handleSearch=function(){var e=Object(m.a)(d.a.mark((function e(t){var n,o,r,s,c,l,i,u,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,o=n.setBookSearch,r=n.setLoading,s=n.savedBooks,"https://www.googleapis.com/books/v1/volumes",c=encodeURI(t),l=a.checkQuery(c),r(!0),e.prev=5,e.next=8,fetch("".concat("https://www.googleapis.com/books/v1/volumes","?q=").concat(l));case 8:if((i=e.sent).ok){e.next=11;break}throw new D("Fetch Call Cannot Be Made");case 11:return e.next=13,i.json();case 13:return u=e.sent,console.log(u),h=C(u.items,s),e.next=18,o(h);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),a.props.setError(e.t0.message);case 23:r(!1);case 24:case"end":return e.stop()}}),e,null,[[5,20]])})));return function(t){return e.apply(this,arguments)}}(),a.checkQuery=function(e){return e.includes("&")&&(e=e.replace(/&/g,"and")),e},a.showModal=function(){a.setState({modal:!0})},a.hideModal=function(){a.setState({modal:!1})},a.state={modal:!1},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.searchedBooks,n=e.savedBooks,r=this.state.modal;return o.a.createElement("div",{className:"App"},n.length>0&&o.a.createElement("button",{className:"modal-button",onClick:this.showModal},"View Saved Books ",o.a.createElement("i",{className:"fas fa-eye"})),o.a.createElement(O,{handleSearch:this.handleSearch}),t?o.a.createElement(I,null):o.a.createElement("div",{className:"BookResults"},a.length>0&&o.a.createElement(j,null)),r&&o.a.createElement(w,{hideModal:this.hideModal}))}}]),t}(n.Component),T=Object(u.b)((function(e){return{error:e.error,loading:e.loading,searchedBooks:e.searchedBooks,savedBooks:e.savedBooks}}),(function(e){return{setError:function(t){return e({type:"SET_ERROR",error:t})},setLoading:function(t){return e({type:"SET_LOADING",loading:t})},setBookSearch:function(t){return e({type:"BOOK_SEARCH",books:t})}}}))(A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(27),L=Object(c.c)(i,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),x=o.a.createElement(u.a,{store:L},o.a.createElement(M.a,null,o.a.createElement(T,null)));s.a.render(x,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.ed5dde08.chunk.js.map